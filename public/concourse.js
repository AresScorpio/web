var concourse={};concourse.Build=function(e){this.$el=e,this.$abortBtn=this.$el.find(".js-abortBuild"),this.buildID=this.$el.data("build-id"),this.abortEndpoint="/api/v1/builds/"+this.buildID+"/abort"},concourse.Build.prototype.bindEvents=function(){var e=this;this.$abortBtn.on("click",function(n){e.abort()})},concourse.Build.prototype.abort=function(){var e=this;$.ajax({method:"POST",url:e.abortEndpoint}).done(function(n,s){e.$abortBtn.remove()}).error(function(n){e.$abortBtn.addClass("errored")})},$(function(){if($(".js-build").length){var e=new concourse.Build($(".js-build"));e.bindEvents()}}),concourse.Job=function(e){this.$el=e,this.pauseBtn=this.$el.find(".js-pauseJobCheck").pausePlayBtn(),this.jobName=this.$el.data("job-name"),this.pauseEndpoint="/api/v1/pipelines/"+window.pipelineName+"/jobs/"+this.jobName+"/pause",this.unPauseEndpoint="/api/v1/pipelines/"+window.pipelineName+"/jobs/"+this.jobName+"/unpause"},concourse.Job.prototype.bindEvents=function(){var e=this;e.$el.delegate(".js-pauseJobCheck.disabled","click",function(n){e.pause()}),e.$el.delegate(".js-pauseJobCheck.enabled","click",function(n){e.unpause()})},concourse.Job.prototype.pause=function(e){var n=this;n.pauseBtn.loading(),$.ajax({method:"PUT",url:n.pauseEndpoint}).done(function(e,s){n.pauseBtn.enable()}).error(function(e){n.pauseBtn.error()})},concourse.Job.prototype.unpause=function(e){var n=this;n.pauseBtn.loading(),$.ajax({method:"PUT",url:this.unPauseEndpoint}).done(function(e){n.pauseBtn.disable()}).error(function(e){n.pauseBtn.error()})},$(function(){if($(".js-job").length){var e=new concourse.Job($(".js-job"));e.bindEvents()}}),concourse.Resource=function(e){this.$el=e,this.pauseBtn=this.$el.find(".js-pauseResourceCheck").pausePlayBtn(),this.resourceName=this.$el.data("resource-name"),this.pauseEndpoint="/api/v1/pipelines/"+window.pipelineName+"/resources/"+this.resourceName+"/pause",this.unPauseEndpoint="/api/v1/pipelines/"+window.pipelineName+"/resources/"+this.resourceName+"/unpause"},concourse.Resource.prototype.bindEvents=function(){var e=this;e.$el.delegate(".js-pauseResourceCheck.disabled","click",function(n){e.pause()}),e.$el.delegate(".js-pauseResourceCheck.enabled","click",function(n){e.unpause()})},concourse.Resource.prototype.pause=function(e){var n=this;n.pauseBtn.loading(),$.ajax({method:"PUT",url:n.pauseEndpoint}).done(function(e,s){n.pauseBtn.enable(),n.$el.find(".js-resourceStatusText").html("checking paused")}).error(function(e){n.pauseBtn.error()})},concourse.Resource.prototype.unpause=function(e){var n=this;n.pauseBtn.loading(),$.ajax({method:"PUT",url:this.unPauseEndpoint}).done(function(e){n.pauseBtn.disable(),n.$el.find(".js-resourceStatusText").html("checking successfully")}).error(function(e){n.pauseBtn.error()})},$(function(){if($(".js-resource").length){var e=new concourse.Resource($(".js-resource"));e.bindEvents()}}),function(e){e.fn.pausePlayBtn=function(){var n=e(this);return{loading:function(){n.removeClass("disabled enabled").addClass("loading"),n.find("i").removeClass("fa-pause").addClass("fa-circle-o-notch fa-spin")},enable:function(){n.removeClass("loading").addClass("enabled"),n.find("i").removeClass("fa-circle-o-notch fa-spin").addClass("fa-play")},error:function(){n.removeClass("loading").addClass("errored"),n.find("i").removeClass("fa-circle-o-notch fa-spin").addClass("fa-pause")},disable:function(){n.removeClass("loading").addClass("disabled"),n.find("i").removeClass("fa-circle-o-notch fa-spin").addClass("fa-pause")}}}}(jQuery);