{{define "title"}}Concourse{{end}}

{{define "body"}}
<div id="page-header">
  <ul class="groups">
    {{range $group, $enabled := .Groups}}
    <li{{if $enabled}} class="active"{{end}}><a href="/?groups={{$group}}">{{$group}}</a>
    {{end}}
  </ul>
</div>

<div id="pipeline">
  <dl class="legend">
    <dt class="pending"></dt>
      <dd>pending</dd>
    <dt class="started"></dt>
      <dd>started</dd>
    <dt class="succeeded"></dt>
      <dd>succeeded</dd>
    <dt class="failed"></dt>
      <dd>failed</dd>
    <dt class="errored"></dt>
      <dd>errored</dd>
    <dt class="aborted"></dt>
      <dd>aborted</dd>
  </dl>

  <svg width="100%" height="100%"></svg>
</div>

<script src="{{url "Public" "jquery-2.1.1.min.js"}}"></script>
<script src="{{url "Public" "d3.v3.min.js"}}"></script>
<script src="{{url "Public" "dagre-d3.min.js"}}"></script>
<script src="{{url "Public" "graph.js"}}"></script>
<script src="{{url "Public" "index.js"}}"></script>

<script>
$(document).ready(function() {
  renderPipeline({{.Groups}});
})
</script>
{{end}}
